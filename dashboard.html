<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - GH Consulting</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg-primary: #09090b;
            --bg-secondary: #18181b;
            --bg-card: #1c1c1f;
            --border: #27272a;
            --text: #fafafa;
            --text-muted: #71717a;
            --accent: #6366f1;
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
        }
        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--bg-primary);
            color: var(--text);
            min-height: 100vh;
        }
        
        /* Layout */
        .app { display: flex; min-height: 100vh; }
        
        /* Sidebar */
        .sidebar {
            width: 260px; background: var(--bg-secondary);
            border-right: 1px solid var(--border);
            padding: 24px 16px; display: flex; flex-direction: column;
            position: fixed; height: 100vh;
        }
        .sidebar-header { margin-bottom: 32px; padding: 0 8px; }
        .sidebar-logo {
            font-size: 13px; font-weight: 600; letter-spacing: 1.5px;
            background: linear-gradient(135deg, #6366f1, #a855f7);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .sidebar-subtitle { font-size: 11px; color: var(--text-muted); margin-top: 4px; }
        
        .nav-section { margin-bottom: 24px; }
        .nav-title {
            font-size: 11px; font-weight: 600; color: var(--text-muted);
            text-transform: uppercase; letter-spacing: 0.5px;
            padding: 0 12px; margin-bottom: 8px;
        }
        .nav-item {
            display: flex; align-items: center; gap: 12px;
            padding: 10px 12px; border-radius: 8px;
            color: var(--text-muted); text-decoration: none;
            font-size: 14px; font-weight: 500; transition: all 0.15s;
        }
        .nav-item:hover { background: var(--bg-card); color: var(--text); }
        .nav-item.active { background: rgba(99,102,241,0.15); color: var(--accent); }
        .nav-icon { font-size: 18px; }
        
        .sidebar-footer {
            margin-top: auto; padding: 16px 8px;
            border-top: 1px solid var(--border);
        }
        .user-card { display: flex; align-items: center; gap: 12px; }
        .user-avatar {
            width: 40px; height: 40px; border-radius: 10px;
            background: linear-gradient(135deg, #6366f1, #a855f7);
            display: flex; align-items: center; justify-content: center;
            font-weight: 600; font-size: 14px;
        }
        .user-name { font-size: 14px; font-weight: 600; }
        .user-email { font-size: 12px; color: var(--text-muted); }
        
        /* Main */
        .main { flex: 1; margin-left: 260px; padding: 32px; }
        
        /* Header */
        .header {
            display: flex; justify-content: space-between;
            align-items: center; margin-bottom: 32px;
        }
        .header-title { font-size: 28px; font-weight: 700; }
        .header-subtitle { color: var(--text-muted); font-size: 14px; margin-top: 4px; }
        .header-actions { display: flex; gap: 12px; }
        .btn {
            display: flex; align-items: center; gap: 8px;
            padding: 10px 16px; border-radius: 8px;
            font-size: 14px; font-weight: 500; cursor: pointer;
            border: none; font-family: inherit; transition: all 0.15s;
        }
        .btn-primary { background: var(--accent); color: white; }
        .btn-primary:hover { background: #4f46e5; }
        .btn-ghost { background: transparent; color: var(--text); border: 1px solid var(--border); }
        .btn-ghost:hover { background: var(--bg-card); }
        
        /* Stats Grid */
        .stats-grid {
            display: grid; grid-template-columns: repeat(4, 1fr);
            gap: 20px; margin-bottom: 32px;
        }
        .stat-card {
            background: var(--bg-card); border: 1px solid var(--border);
            border-radius: 16px; padding: 24px;
        }
        .stat-header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px; }
        .stat-label { font-size: 13px; color: var(--text-muted); font-weight: 500; }
        .stat-icon {
            width: 40px; height: 40px; border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            font-size: 18px;
        }
        .stat-icon.blue { background: rgba(99,102,241,0.15); }
        .stat-icon.green { background: rgba(34,197,94,0.15); }
        .stat-icon.purple { background: rgba(168,85,247,0.15); }
        .stat-icon.orange { background: rgba(245,158,11,0.15); }
        .stat-value { font-size: 32px; font-weight: 700; margin-bottom: 8px; }
        .stat-change { font-size: 13px; display: flex; align-items: center; gap: 4px; }
        .stat-change.up { color: var(--success); }
        .stat-change.down { color: var(--danger); }
        
        /* Content Grid */
        .content-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 24px; }
        
        /* Cards */
        .card {
            background: var(--bg-card); border: 1px solid var(--border);
            border-radius: 16px; padding: 24px; margin-bottom: 24px;
        }
        .card-header {
            display: flex; justify-content: space-between;
            align-items: center; margin-bottom: 20px;
        }
        .card-title { font-size: 16px; font-weight: 600; }
        
        /* Progress Bars */
        .progress-item { margin-bottom: 20px; }
        .progress-item:last-child { margin-bottom: 0; }
        .progress-header { display: flex; justify-content: space-between; margin-bottom: 8px; }
        .progress-label { font-size: 14px; font-weight: 500; }
        .progress-value { font-size: 14px; color: var(--text-muted); }
        .progress-bar { height: 8px; background: var(--bg-primary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; border-radius: 4px; transition: width 0.5s; }
        .progress-fill.blue { background: var(--accent); }
        .progress-fill.green { background: var(--success); }
        .progress-fill.purple { background: #a855f7; }
        .progress-fill.orange { background: var(--warning); }
        
        /* Tasks */
        .task-list { display: flex; flex-direction: column; gap: 12px; }
        .task-item {
            display: flex; align-items: center; gap: 12px;
            padding: 14px; background: var(--bg-primary);
            border-radius: 10px; cursor: pointer; transition: all 0.15s;
        }
        .task-item:hover { background: rgba(99,102,241,0.1); }
        .task-check {
            width: 22px; height: 22px; border-radius: 6px;
            border: 2px solid var(--border); display: flex;
            align-items: center; justify-content: center;
            font-size: 12px; transition: all 0.15s;
        }
        .task-item.done .task-check { background: var(--success); border-color: var(--success); color: white; }
        .task-content { flex: 1; }
        .task-title { font-size: 14px; font-weight: 500; }
        .task-item.done .task-title { text-decoration: line-through; color: var(--text-muted); }
        .task-meta { font-size: 12px; color: var(--text-muted); }
        .task-priority {
            padding: 4px 10px; border-radius: 6px;
            font-size: 11px; font-weight: 600;
        }
        .task-priority.high { background: rgba(239,68,68,0.15); color: var(--danger); }
        .task-priority.med { background: rgba(245,158,11,0.15); color: var(--warning); }
        .task-priority.low { background: rgba(34,197,94,0.15); color: var(--success); }
        
        /* Insights */
        .insight-item {
            padding: 16px; background: var(--bg-primary);
            border-radius: 10px; margin-bottom: 12px;
            border-left: 3px solid var(--accent);
        }
        .insight-item:last-child { margin-bottom: 0; }
        .insight-item.warning { border-color: var(--warning); }
        .insight-item.success { border-color: var(--success); }
        .insight-title { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
        .insight-text { font-size: 13px; color: var(--text-muted); line-height: 1.5; }
        
        /* Chart */
        .chart-container { height: 200px; margin-top: 16px; }
        
        /* Empty State */
        .empty-state {
            text-align: center; padding: 60px 24px;
            color: var(--text-muted);
        }
        .empty-icon { font-size: 48px; margin-bottom: 16px; }
        .empty-title { font-size: 18px; font-weight: 600; color: var(--text); margin-bottom: 8px; }
        .empty-desc { font-size: 14px; margin-bottom: 24px; }
        
        /* Week Grid */
        .week-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; margin-top: 16px; }
        .day-col { text-align: center; }
        .day-label { font-size: 11px; color: var(--text-muted); margin-bottom: 8px; }
        .day-value { padding: 10px 8px; background: var(--bg-primary); border-radius: 8px; font-weight: 600; }
        .day-value.highlight { background: rgba(99,102,241,0.15); color: var(--accent); }
        
        @media (max-width: 1200px) {
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .content-grid { grid-template-columns: 1fr; }
        }
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .main { margin-left: 0; }
            .stats-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">GH CONSULTING</div>
                <div class="sidebar-subtitle">Dashboard del Cliente</div>
            </div>
            
            <nav>
                <div class="nav-section">
                    <div class="nav-title">Principal</div>
                    <a href="#" class="nav-item active"><span class="nav-icon">üìä</span> Dashboard</a>
                    <a href="#" class="nav-item"><span class="nav-icon">üéØ</span> Objetivos</a>
                    <a href="#" class="nav-item"><span class="nav-icon">üìà</span> M√©tricas</a>
                </div>
                <div class="nav-section">
                    <div class="nav-title">Contenido</div>
                    <a href="#" class="nav-item"><span class="nav-icon">üì±</span> Redes Sociales</a>
                    <a href="#" class="nav-item"><span class="nav-icon">üîÑ</span> Embudo</a>
                </div>
                <div class="nav-section">
                    <div class="nav-title">Gesti√≥n</div>
                    <a href="#" class="nav-item"><span class="nav-icon">‚úÖ</span> Tareas</a>
                    <a href="#" class="nav-item"><span class="nav-icon">üìù</span> Reportes</a>
                </div>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-card">
                    <div class="user-avatar" id="userAvatar">--</div>
                    <div>
                        <div class="user-name" id="userName">Cargando...</div>
                        <div class="user-email" id="userEmail">...</div>
                    </div>
                </div>
            </div>
        </aside>
        
        <!-- Main -->
        <main class="main">
            <div class="header">
                <div>
                    <div class="header-title" id="greeting">Buenos d√≠as üëã</div>
                    <div class="header-subtitle">Resumen de tu progreso esta semana</div>
                </div>
                <div class="header-actions">
                    <button class="btn btn-ghost">üìÖ Agendar Call</button>
                    <button class="btn btn-primary">üìä Ver Reporte</button>
                </div>
            </div>
            
            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">Ingresos del Mes</span>
                        <div class="stat-icon blue">üí∞</div>
                    </div>
                    <div class="stat-value" id="statIngresos">‚Ç¨0</div>
                    <div class="stat-change up" id="statIngresosChange">‚Üë 0% vs mes anterior</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">Clientes Activos</span>
                        <div class="stat-icon green">üë•</div>
                    </div>
                    <div class="stat-value" id="statClientes">0</div>
                    <div class="stat-change up">Meta: alcanzar objetivo</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">Seguidores IG</span>
                        <div class="stat-icon purple">üì±</div>
                    </div>
                    <div class="stat-value" id="statSeguidores">0</div>
                    <div class="stat-change up">Creciendo</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">Objetivo 90 d√≠as</span>
                        <div class="stat-icon orange">üéØ</div>
                    </div>
                    <div class="stat-value" id="statObjetivo">‚Ç¨0</div>
                    <div class="stat-change" id="statProgreso">0% completado</div>
                </div>
            </div>
            
            <!-- Content -->
            <div class="content-grid">
                <div>
                    <!-- Progress Card -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Progreso del Programa</div>
                            <span style="color: var(--text-muted); font-size: 14px;">Semana 1</span>
                        </div>
                        <div class="progress-item">
                            <div class="progress-header">
                                <span class="progress-label">Objetivo de Ingresos</span>
                                <span class="progress-value" id="progIngresos">‚Ç¨0 / ‚Ç¨0</span>
                            </div>
                            <div class="progress-bar"><div class="progress-fill blue" id="progIngresosFill" style="width: 0%"></div></div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-header">
                                <span class="progress-label">Tareas Completadas</span>
                                <span class="progress-value">0 / 5</span>
                            </div>
                            <div class="progress-bar"><div class="progress-fill green" style="width: 0%"></div></div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-header">
                                <span class="progress-label">Contenido Publicado</span>
                                <span class="progress-value">0 / 4 posts</span>
                            </div>
                            <div class="progress-bar"><div class="progress-fill purple" style="width: 0%"></div></div>
                        </div>
                    </div>
                    
                    <!-- Tasks -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Tareas Esta Semana</div>
                            <button class="btn btn-ghost" style="padding: 6px 12px; font-size: 12px;">+ Nueva</button>
                        </div>
                        <div class="task-list" id="taskList">
                            <div class="task-item">
                                <div class="task-check"></div>
                                <div class="task-content">
                                    <div class="task-title">Completar perfil de Instagram</div>
                                    <div class="task-meta">Vence hoy</div>
                                </div>
                                <span class="task-priority high">Alta</span>
                            </div>
                            <div class="task-item">
                                <div class="task-check"></div>
                                <div class="task-content">
                                    <div class="task-title">Grabar primer reel</div>
                                    <div class="task-meta">Vence ma√±ana</div>
                                </div>
                                <span class="task-priority med">Media</span>
                            </div>
                            <div class="task-item">
                                <div class="task-check"></div>
                                <div class="task-content">
                                    <div class="task-title">Definir oferta principal</div>
                                    <div class="task-meta">Esta semana</div>
                                </div>
                                <span class="task-priority high">Alta</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <!-- Insights -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">üí° Insights</div>
                        </div>
                        <div id="insightsList">
                            <div class="insight-item">
                                <div class="insight-title">üìã Onboarding completado</div>
                                <div class="insight-text">Tu informaci√≥n ha sido guardada. Empezamos a trabajar en tu estrategia.</div>
                            </div>
                            <div class="insight-item warning">
                                <div class="insight-title">üéØ Define tu objetivo</div>
                                <div class="insight-text" id="insightObjetivo">Cargando...</div>
                            </div>
                            <div class="insight-item success">
                                <div class="insight-title">üíº Tu negocio</div>
                                <div class="insight-text" id="insightNegocio">Cargando...</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Stats -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">üìÖ Esta Semana</div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; text-align: center;">
                            <div>
                                <div style="font-size: 24px; font-weight: 700;" id="weekRevenue">‚Ç¨0</div>
                                <div style="font-size: 12px; color: var(--text-muted);">Revenue</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: 700;">0</div>
                                <div style="font-size: 12px; color: var(--text-muted);">Calls</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: 700;">0</div>
                                <div style="font-size: 12px; color: var(--text-muted);">Leads</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script>
        // Load client data from localStorage
        const data = JSON.parse(localStorage.getItem('gh_client_data') || '{}');
        
        // If no data, redirect to onboarding
        if (!data.nombre) {
            // Show message or redirect
            document.querySelector('.main').innerHTML = `
                <div class="empty-state">
                    <div class="empty-icon">üìã</div>
                    <div class="empty-title">No hay datos de cliente</div>
                    <div class="empty-desc">Completa el formulario de onboarding para ver tu dashboard personalizado</div>
                    <a href="index.html" class="btn btn-primary" style="display: inline-flex;">Ir al Onboarding ‚Üí</a>
                </div>
            `;
        } else {
            // Populate dashboard with real data
            const nombre = data.nombre.split(' ')[0];
            const initials = data.nombre.split(' ').map(n => n[0]).join('').toUpperCase().slice(0,2);
            const hour = new Date().getHours();
            const greeting = hour < 12 ? 'Buenos d√≠as' : hour < 19 ? 'Buenas tardes' : 'Buenas noches';
            
            document.getElementById('greeting').textContent = `${greeting}, ${nombre} üëã`;
            document.getElementById('userName').textContent = data.nombre;
            document.getElementById('userEmail').textContent = data.email || '';
            document.getElementById('userAvatar').textContent = initials;
            
            // Stats
            const ingresos = parseInt(data.ingresos) || 0;
            const objetivo = parseInt(data.objetivo) || 0;
            const clientes = parseInt(data.clientes) || 0;
            const seguidores = parseInt(data.seguidores) || 0;
            
            document.getElementById('statIngresos').textContent = '‚Ç¨' + ingresos.toLocaleString();
            document.getElementById('statClientes').textContent = clientes;
            document.getElementById('statSeguidores').textContent = seguidores.toLocaleString();
            document.getElementById('statObjetivo').textContent = '‚Ç¨' + objetivo.toLocaleString();
            
            // Progress
            const progreso = objetivo > 0 ? Math.round((ingresos / objetivo) * 100) : 0;
            document.getElementById('statProgreso').textContent = progreso + '% del objetivo';
            document.getElementById('progIngresos').textContent = `‚Ç¨${ingresos.toLocaleString()} / ‚Ç¨${objetivo.toLocaleString()}`;
            document.getElementById('progIngresosFill').style.width = Math.min(progreso, 100) + '%';
            
            // Insights
            document.getElementById('insightObjetivo').textContent = data.objetivo_principal || 'No definido';
            document.getElementById('insightNegocio').textContent = `${data.negocio || 'Tu negocio'} - ${data.nicho || 'Nicho'}: ${data.producto || 'Producto'}`.slice(0, 150);
            
            document.getElementById('weekRevenue').textContent = '‚Ç¨0';
        }
        
        // Task toggle
        document.querySelectorAll('.task-item').forEach(item => {
            item.addEventListener('click', () => {
                item.classList.toggle('done');
                const check = item.querySelector('.task-check');
                check.textContent = item.classList.contains('done') ? '‚úì' : '';
            });
        });
    </script>
</body>
</html>
